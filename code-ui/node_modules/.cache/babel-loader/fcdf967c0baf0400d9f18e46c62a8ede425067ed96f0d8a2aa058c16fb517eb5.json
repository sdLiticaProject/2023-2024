{"ast":null,"code":"var _jsxFileName = \"/Users/dmitrydrobysh/Desktop/SyncDir/code-ui/src/pages/login/components/forms/LoginForm.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector } from 'react-redux';\nimport useActions from '../../../../hooks/useAction';\nimport { HOME, LOGIN } from '../../../../constants/routes';\nimport { loginUser, LOGIN_FAIL, LOGIN_LOADING, LOGIN_SUCCESS } from '../../../../actions/loginActions';\nimport { Button, InputFormWrapper, LoadIndicator, NavLinkWrapper, Error, Transfer, FormWrapper } from './FormsStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm() {\n  _s();\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const [submitAction] = useActions([loginUser]);\n  const history = useHistory();\n  const [isSnackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [snackMessage, setSnackMessage] = React.useState('');\n  const isLoginLoading = useSelector(state => state.login.type) === LOGIN_LOADING;\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackbarOpen(false);\n  };\n  const submit = data => {\n    if (data.email !== '' && data.password !== '') {\n      submitAction(data.email, data.password).then(e => {\n        if (e.type && e.type === LOGIN_FAIL) {\n          setSnackMessage(e.message);\n          setSnackbarOpen(true);\n        } else if (e.type && e.type === LOGIN_SUCCESS) {\n          // TODO: add push to dashboard page\n          history.push(HOME);\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FormWrapper, {\n    onSubmit: handleSubmit(submit),\n    children: [/*#__PURE__*/_jsxDEV(InputFormWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register({\n          required: 'required',\n          pattern: {\n            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n            message: 'invalid email address'\n          }\n        }),\n        id: \"email\",\n        name: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.email && errors.email.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputFormWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register({\n          required: 'required',\n          pattern: {\n            value: /^[A-Z0-9._]{3,15}$/i,\n            message: 'invalid password'\n          }\n        }),\n        type: \"password\",\n        name: \"password\",\n        id: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.password && errors.password.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), isLoginLoading && /*#__PURE__*/_jsxDEV(LoadIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(NavLinkWrapper, {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: `${LOGIN}?tab=reg`,\n        children: /*#__PURE__*/_jsxDEV(Transfer, {\n          children: \"Need an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      open: isSnackbarOpen,\n      autoHideDuration: 6000,\n      onClose: handleSnackbarClose,\n      message: snackMessage,\n      action: /*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        \"aria-label\": \"close\",\n        color: \"inherit\",\n        onClick: handleSnackbarClose,\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"UEwtWviSJ5mbe0tFUGqm0y9WQTw=\", false, function () {\n  return [useForm, useActions, useHistory, useSelector];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useForm","NavLink","useHistory","Snackbar","IconButton","CloseIcon","useSelector","useActions","HOME","LOGIN","loginUser","LOGIN_FAIL","LOGIN_LOADING","LOGIN_SUCCESS","Button","InputFormWrapper","LoadIndicator","NavLinkWrapper","Error","Transfer","FormWrapper","jsxDEV","_jsxDEV","LoginForm","_s","handleSubmit","register","errors","submitAction","history","isSnackbarOpen","setSnackbarOpen","useState","snackMessage","setSnackMessage","isLoginLoading","state","login","type","handleSnackbarClose","event","reason","submit","data","email","password","then","e","message","push","onSubmit","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","ref","required","pattern","value","id","name","to","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","action","size","color","onClick","fontSize","_c","$RefreshReg$"],"sources":["/Users/dmitrydrobysh/Desktop/SyncDir/code-ui/src/pages/login/components/forms/LoginForm.js"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector } from 'react-redux';\nimport useActions from '../../../../hooks/useAction';\nimport { HOME, LOGIN } from '../../../../constants/routes';\nimport { loginUser, LOGIN_FAIL, LOGIN_LOADING, LOGIN_SUCCESS } from '../../../../actions/loginActions';\nimport { Button, InputFormWrapper, LoadIndicator, NavLinkWrapper, Error, Transfer, FormWrapper } from './FormsStyles';\n\nfunction LoginForm() {\n  const { handleSubmit, register, errors } = useForm();\n  const [submitAction] = useActions([loginUser]);\n  const history = useHistory();\n  const [isSnackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [snackMessage, setSnackMessage] = React.useState('');\n  const isLoginLoading = useSelector((state) => state.login.type) === LOGIN_LOADING;\n\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setSnackbarOpen(false);\n  };\n\n  const submit = (data) => {\n    if (data.email !== '' && data.password !== '') {\n      submitAction(data.email, data.password).then((e) => {\n        if (e.type && e.type === LOGIN_FAIL) {\n          setSnackMessage(e.message);\n          setSnackbarOpen(true);\n        } else if (e.type && e.type === LOGIN_SUCCESS) {\n          // TODO: add push to dashboard page\n          history.push(HOME);\n        }\n      });\n    }\n  };\n\n  return (\n    <FormWrapper onSubmit={handleSubmit(submit)}>\n      <InputFormWrapper>\n        <label htmlFor=\"email\">Email</label>\n        <input\n          ref={register({\n            required: 'required',\n            pattern: {\n              value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n              message: 'invalid email address',\n            },\n          })}\n          id=\"email\"\n          name=\"email\"\n        />\n        <Error>{errors.email && errors.email.message}</Error>\n      </InputFormWrapper>\n      <br />\n      <InputFormWrapper>\n        <label htmlFor=\"password\">Password</label>\n        <input\n          ref={register({\n            required: 'required',\n            pattern: {\n              value: /^[A-Z0-9._]{3,15}$/i,\n              message: 'invalid password',\n            },\n          })}\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n        />\n        <Error>{errors.password && errors.password.message}</Error>\n      </InputFormWrapper>\n      <br />\n      <Button type=\"submit\">Log in</Button>\n      {isLoginLoading && <LoadIndicator />}\n      <NavLinkWrapper>\n        <NavLink to={`${LOGIN}?tab=reg`}>\n          <Transfer>Need an account?</Transfer>\n        </NavLink>\n      </NavLinkWrapper>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        open={isSnackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleSnackbarClose}\n        message={snackMessage}\n        action={\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleSnackbarClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        }\n      />\n    </FormWrapper>\n  );\n}\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}