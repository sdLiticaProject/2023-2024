{"ast":null,"code":"import _slicedToArray from\"/Users/dmitrydrobysh/Desktop/sdlitica/code-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/dmitrydrobysh/Desktop/sdlitica/code-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback}from'react';import{useDispatch,useSelector}from'react-redux';import Cookies from'js-cookie';import{useHistory}from'react-router-dom';import{withStyles}from'@material-ui/core/styles';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import PersonIcon from'@material-ui/icons/Person';import{LOGIN,PAGE_USER_PROFILE}from'../../../../constants/routes';import{logoutUser,LOGOUT_SUCCESS}from'../../../../actions/loginActions';import{del}from'../../../../actions/userActions';import*as Sc from'../../HomePage.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledMenu=withStyles({paper:{border:'1px solid #d3d4d5'}})(function(props){return/*#__PURE__*/_jsx(Menu,_objectSpread({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'}// eslint-disable-next-line react/jsx-props-no-spreading\n},props));});var StyledMenuItem=withStyles(function(theme){return{root:{'&:focus':{backgroundColor:\"#3f88c5\",'& .MuiListItemIcon-root, & .MuiListItemText-primary':{color:theme.palette.common.white}}}};})(MenuItem);var MenuWrapper=function MenuWrapper(){var dispatch=useDispatch();var history=useHistory();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var user=useSelector(function(state){return state.user.user;});var logout=useCallback(function(){// TODO: fix this way\ndispatch(logoutUser()).then(function(e){if(e.type&&e.type===LOGOUT_SUCCESS){Cookies.remove('token');dispatch(del());history.push(LOGIN);}});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(StyledMenu,{id:\"customized-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:[/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:function onClick(){handleClose();history.push(PAGE_USER_PROFILE);},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(PersonIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Profile\"})]}),/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:logout,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ExitToAppIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(Sc.MenuWrapper,{onClick:handleClick,children:[/*#__PURE__*/_jsx(Sc.MenuWrapperLogo,{viewBox:\"0 0 50 50\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M25 1C11.767 1 1 11.767 1 25c0 7.091 3.094 13.472 8 17.869v.017l.348.3c.061.053.128.097.19.149a24.496 24.496 0 003.189 2.279c.085.051.172.099.257.148.557.324 1.126.629 1.71.908l.018.008a23.838 23.838 0 003.915 1.456l.075.021c.641.175 1.293.322 1.954.443l.185.033a24.17 24.17 0 001.939.262c.075.007.15.011.224.017.659.055 1.323.09 1.996.09s1.337-.035 1.996-.09c.075-.006.15-.01.224-.017.655-.06 1.301-.15 1.939-.262l.185-.033a23.451 23.451 0 001.954-.443l.075-.021a23.838 23.838 0 003.915-1.456l.018-.008a24.261 24.261 0 001.71-.908c.086-.05.172-.097.257-.148a24.123 24.123 0 001.487-.968c.124-.087.248-.174.371-.264.456-.334.9-.683 1.331-1.047.062-.052.129-.096.19-.149l.348-.3v-.017c4.906-4.398 8-10.778 8-17.869C49 11.767 38.233 1 25 1zm0 24c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm3 2c6.065 0 11 4.935 11 11v3.958c-.042.035-.086.067-.128.102-.395.321-.8.626-1.214.918-.092.065-.182.132-.274.195-.447.305-.906.591-1.373.862l-.257.148a21.799 21.799 0 01-6.871 2.468l-.171.031a22.27 22.27 0 01-1.715.225c-.079.007-.159.012-.239.018-.583.045-1.169.075-1.758.075s-1.175-.03-1.758-.077l-.239-.018a21.789 21.789 0 01-1.886-.256 22.013 22.013 0 01-5.212-1.626l-.161-.073a21.799 21.799 0 01-1.755-.917c-.467-.27-.926-.557-1.373-.862-.093-.063-.183-.13-.274-.195a21.826 21.826 0 01-1.214-.918c-.042-.034-.086-.067-.128-.102V38c0-6.065 4.935-11 11-11h6zm13 13.076V38c0-6.271-4.464-11.519-10.38-12.735A9.996 9.996 0 0035 17c0-5.514-4.486-10-10-10s-10 4.486-10 10a9.996 9.996 0 004.38 8.265C13.464 26.481 9 31.729 9 38v2.076C5.284 36.135 3 30.831 3 25 3 12.869 12.869 3 25 3s22 9.869 22 22c0 5.831-2.284 11.135-6 15.076z\"})}),/*#__PURE__*/_jsx(Sc.MenuWrapperText,{children:user&&\"\".concat(user.firstName,\" \").concat(user.lastName)})]})]});};export default MenuWrapper;","map":{"version":3,"names":["React","useCallback","useDispatch","useSelector","Cookies","useHistory","withStyles","Menu","MenuItem","ListItemIcon","ListItemText","ExitToAppIcon","PersonIcon","LOGIN","PAGE_USER_PROFILE","logoutUser","LOGOUT_SUCCESS","del","Sc","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StyledMenu","paper","border","props","_objectSpread","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","theme","root","backgroundColor","color","palette","common","white","MenuWrapper","dispatch","history","_React$useState","useState","_React$useState2","_slicedToArray","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","user","state","logout","then","e","type","remove","push","children","id","keepMounted","open","Boolean","onClose","onClick","fontSize","primary","MenuWrapperLogo","viewBox","d","MenuWrapperText","concat","firstName","lastName"],"sources":["/Users/dmitrydrobysh/Desktop/sdlitica/code-ui/src/pages/home/components/header-menu/HeaderMenu.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Cookies from 'js-cookie';\nimport { useHistory } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { LOGIN, PAGE_USER_PROFILE } from '../../../../constants/routes';\nimport { logoutUser, LOGOUT_SUCCESS } from '../../../../actions/loginActions';\nimport { del } from '../../../../actions/userActions';\nimport * as Sc from '../../HomePage.styles';\nimport { AppDispatch, RootState } from '../../../../store/createStore';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5',\n  },\n})((props: MenuProps) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center',\n    }}\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    {...props}\n  />\n));\n\nconst StyledMenuItem = withStyles((theme) => ({\n  root: {\n    '&:focus': {\n      backgroundColor: `#3f88c5`,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\nconst MenuWrapper = (): JSX.Element => {\n  const dispatch: AppDispatch = useDispatch();\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const user = useSelector((state: RootState) => state.user.user);\n\n  const logout = useCallback(() => {\n    // TODO: fix this way\n    dispatch(logoutUser()).then((e) => {\n      if (e.type && e.type === LOGOUT_SUCCESS) {\n        Cookies.remove('token');\n        dispatch(del());\n        history.push(LOGIN);\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <StyledMenu id=\"customized-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n        <StyledMenuItem\n          onClick={() => {\n            handleClose();\n            history.push(PAGE_USER_PROFILE);\n          }}\n        >\n          <ListItemIcon>\n            <PersonIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Profile\" />\n        </StyledMenuItem>\n        <StyledMenuItem onClick={logout}>\n          <ListItemIcon>\n            <ExitToAppIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Logout\" />\n        </StyledMenuItem>\n      </StyledMenu>\n      <Sc.MenuWrapper onClick={handleClick}>\n        <Sc.MenuWrapperLogo viewBox=\"0 0 50 50\">\n          <path d=\"M25 1C11.767 1 1 11.767 1 25c0 7.091 3.094 13.472 8 17.869v.017l.348.3c.061.053.128.097.19.149a24.496 24.496 0 003.189 2.279c.085.051.172.099.257.148.557.324 1.126.629 1.71.908l.018.008a23.838 23.838 0 003.915 1.456l.075.021c.641.175 1.293.322 1.954.443l.185.033a24.17 24.17 0 001.939.262c.075.007.15.011.224.017.659.055 1.323.09 1.996.09s1.337-.035 1.996-.09c.075-.006.15-.01.224-.017.655-.06 1.301-.15 1.939-.262l.185-.033a23.451 23.451 0 001.954-.443l.075-.021a23.838 23.838 0 003.915-1.456l.018-.008a24.261 24.261 0 001.71-.908c.086-.05.172-.097.257-.148a24.123 24.123 0 001.487-.968c.124-.087.248-.174.371-.264.456-.334.9-.683 1.331-1.047.062-.052.129-.096.19-.149l.348-.3v-.017c4.906-4.398 8-10.778 8-17.869C49 11.767 38.233 1 25 1zm0 24c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm3 2c6.065 0 11 4.935 11 11v3.958c-.042.035-.086.067-.128.102-.395.321-.8.626-1.214.918-.092.065-.182.132-.274.195-.447.305-.906.591-1.373.862l-.257.148a21.799 21.799 0 01-6.871 2.468l-.171.031a22.27 22.27 0 01-1.715.225c-.079.007-.159.012-.239.018-.583.045-1.169.075-1.758.075s-1.175-.03-1.758-.077l-.239-.018a21.789 21.789 0 01-1.886-.256 22.013 22.013 0 01-5.212-1.626l-.161-.073a21.799 21.799 0 01-1.755-.917c-.467-.27-.926-.557-1.373-.862-.093-.063-.183-.13-.274-.195a21.826 21.826 0 01-1.214-.918c-.042-.034-.086-.067-.128-.102V38c0-6.065 4.935-11 11-11h6zm13 13.076V38c0-6.271-4.464-11.519-10.38-12.735A9.996 9.996 0 0035 17c0-5.514-4.486-10-10-10s-10 4.486-10 10a9.996 9.996 0 004.38 8.265C13.464 26.481 9 31.729 9 38v2.076C5.284 36.135 3 30.831 3 25 3 12.869 12.869 3 25 3s22 9.869 22 22c0 5.831-2.284 11.135-6 15.076z\" />\n        </Sc.MenuWrapperLogo>\n        <Sc.MenuWrapperText>{user && `${user.firstName} ${user.lastName}`}</Sc.MenuWrapperText>\n      </Sc.MenuWrapper>\n    </>\n  );\n};\n\nexport default MenuWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}